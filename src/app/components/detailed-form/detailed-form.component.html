<div class="bg-white rounded-2xl shadow-xl p-6 md:p-8">
    <div class="flex justify-between items-center mb-6">
        <h2 class="text-2xl font-bold text-gray-800">Detailed Parameters</h2>
        <div class="flex gap-3">
            <button (click)="resetDefaults()"
                class="px-4 py-2 text-sm font-medium text-gray-600 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors">
                Reset Defaults
            </button>
            <button (click)="close.emit()"
                class="px-4 py-2 text-sm font-medium text-white bg-gray-800 hover:bg-gray-900 rounded-lg transition-colors">
                Simple View
            </button>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        <!-- Generate inputs for all number properties in params -->
        <div *ngFor="let key of paramKeys" class="group">
            <label
                class="block text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1 group-hover:text-blue-600 transition-colors">
                {{ formatLabel(key) }}
            </label>
            <input type="number" [ngModel]="params()[key]" (ngModelChange)="updateParam(key, $event)"
                class="w-full px-3 py-2 bg-gray-50 border border-gray-200 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:bg-white transition-all text-gray-800 font-medium">
        </div>
    </div>

    <div class="mt-8 pt-6 border-t border-gray-100">
        <h3 class="text-lg font-semibold text-gray-800 mb-4">Calculation Breakdown</h3>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <div class="p-4 bg-blue-50 rounded-xl">
                <div class="text-xs text-blue-600 font-medium mb-1">Prix Reprise (Tonne)</div>
                <div class="text-lg font-bold text-blue-900">{{ result().prixRepriseTonne | number:'1.2-2' }}</div>
            </div>
            <div class="p-4 bg-indigo-50 rounded-xl">
                <div class="text-xs text-indigo-600 font-medium mb-1">Sous Total</div>
                <div class="text-lg font-bold text-indigo-900">{{ result().sousTotal | number:'1.2-2' }}</div>
            </div>
            <div class="p-4 bg-purple-50 rounded-xl">
                <div class="text-xs text-purple-600 font-medium mb-1">Prix Gros (TTC)</div>
                <div class="text-lg font-bold text-purple-900">{{ result().prixVenteGrosAvecTva | number:'1.2-2' }}
                </div>
            </div>
            <div class="p-4 bg-green-50 rounded-xl border border-green-100">
                <div class="text-xs text-green-600 font-medium mb-1">Final Retail Price</div>
                <div class="text-2xl font-bold text-green-700">{{ result().finalPrice | number:'1.2-2' }}</div>
            </div>
        </div>
    </div>
</div>